feed_uri: http://assets.axoom.cloud/mixins/axoom-service.xml
name: AXOOM Service Mixin
summary: container for AXOOM Service
description: This mixin creates a container for running an (usually .NET Core-based) AXOOM Service.
homepage: https://tfs.inside-axoom.org/tfs/axoom/axoom/_git/Axoom.Platform.BaseAssets?_a=readme&fullScreen=true

mixin_parameters:
  - SERVICE_NAME
  - DOCKER_REGISTRY
  - VERSION

external_environment:
  optional:
    - LOG_LEVEL
    - ASPNETCORE_ENVIRONMENT

compose:
  - version: '3.2'
    services:
      (SERVICE_NAME):
        image: (DOCKER_REGISTRY)/services/(SERVICE_NAME):(VERSION)
        environment:
          LOGGING__LOGTARGETS__0__FORMAT: Gelf
          LOGGING__LOGTARGETS__0__LEVEL: ${LOG_LEVEL-Information}
          ASPNETCORE_ENVIRONMENT: ${ASPNETCORE_ENVIRONMENT-Production}
